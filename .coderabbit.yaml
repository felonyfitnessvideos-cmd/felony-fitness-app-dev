# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json

# Coderabbit configuration file for the Felony Fitness App

# Configuration for code reviews on pull requests
reviews:
  # Instructs Coderabbit to ignore certain files and directories
  path_filters:
    - "!**/node_modules/**"
    - "!**/dist/**"
    - "!**/*.md" # Ignores markdown files

  # Profile for code review behavior
  profile: "chill"

  # Request changes for critical issues
  request_changes_workflow: true

  # Knowledge base with custom instructions for this project
  knowledge_base:
    - |
      You are an expert code reviewer for a React Single-Page Application (SPA) built with Vite and Supabase.
      Your review must enforce the following "Golden Patterns" for this specific project:

      1.  **Layout & Scrolling:** The root App.jsx component provides a primary content area (.main-content) that handles ALL scrolling. Individual pages must rely on this central scrollbar. The only exception is for pages that use a `position: fixed` footer.

      2.  **Data Fetching & State:**
          - A central AuthContext.jsx provides the `user` object via the `useAuth()` hook.
          - All data fetching in components MUST be triggered by a `useEffect` hook that depends on `user?.id`.
          - All asynchronous data-fetching functions MUST be wrapped in `try...catch...finally` blocks.
          - `Promise.all` SHOULD be used for concurrent data fetching whenever possible.

      Please provide concise, actionable feedback based on these rules.
